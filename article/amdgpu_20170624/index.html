<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>AMDGPU and Linux growing pains - https://next.sabayon.org</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="AMDGPU" />
        <meta name="author" content="Sabayonlinux crew" />
        <link rel="canonical" href="https://next.sabayon.org/article/amdgpu_20170624/">
        <link rel="shortcut icon" href="https://www.sabayon.org/sites/all/themes/sabayon/favicon.ico" type="image/vnd.microsoft.icon" />
        
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400italic,700,700italic" />
<link rel="stylesheet" type="text/css" href="https://next.sabayon.org/css/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="https://next.sabayon.org/css/theme.css" />
<link rel="stylesheet" type="text/css" href="https://next.sabayon.org/css/font-awesome.css" />
<link rel="stylesheet" type="text/css" href="https://next.sabayon.org/css/common.css" />
<link rel="stylesheet" type="text/css" href="https://next.sabayon.org/css/custom.css" />

    </head>
    <body>
        <nav id="top-nav" class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://next.sabayon.org">
                <img src="https://next.sabayon.org/img/navbar_sabayon_logo_trans.png"
                     alt="Sabayon Logo" width="135" height="35"
                     class="img-responsive" />
                <span class="sr-only">Sabayon Linux</span>
            </a>
        </div>

        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav pull-right">
                <li><a href="https://next.sabayon.org/donate/">DONATE</a></li>
                <li><a href="https://forum.sabayon.org/">Forum</a></li>
                <li><a href="https://next.sabayon.org/chat/">Support</a></li>
                <li><a href="https://wiki.sabayon.org/">Wiki</a></li>
                <li><a href="https://next.sabayon.org/download"> Download</a></li>
                <li><a href="https://bugs.sabayon.org/"> Bugs</a></li>
                <li><a href="https://packages.sabayon.org/">Packages</a></li>
                <li><a href="https://sabayon.github.io/community-website/">SCR</a></li>
                <li><a href="https://next.sabayon.org/blog/"> Blog</a></li>
            </ul>
        </div>
    </div>
</nav>

        <div class="container">
            <div class="row">
                <div class="col-md-9">
                    <div class="well well-sm">
                        <h3>AMDGPU and Linux growing pains<br> <small>AMDGPU</small></h3>
                        <hr>
                        

<p>Some of you may be aware that FGRLX is dead and AMDGPU-PRO is the new
proprietary (hybrid) driver. Some of you may still be using the radeon driver
on AMD HD7XXX or R9 2XX (SI/CIK) video cards. This will most likely change
in the future. <a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=AMDGPU-Radeon-Switching-CIK">Methods of switching are being discussed for 4.13 kernel</a></p>

<h2 id="amdgpu-pro">AMDGPU-PRO</h2>

<p>There have been a few questions I&rsquo;ve noticed about having issues with HDMI
audio over AMDGPU and/or people asking when AMDGPU-PRO will be be supported.
I&rsquo;m here to say AMDGPU-PRO isn&rsquo;t coming to Gentoo/Sabayon, but for good reason.</p>

<p>Differences in AMDGPU and AMDGPU-PRO, once complete, will be minimal.
AMDGPU-PRO is a &ldquo;hybrid&rdquo; driver meaning paritially open and closed source.
Nearly everything in AMDGPU-PRO will be in AMDGPU open source. AMDGPU-PRO
will be geared for supporting FirePRO cards in workstations and tested
to support things such as solidworks and other business software.</p>

<p>Currently, there are some gaps in support. Where PRO supports Freesync, HDMI 2.0,
HDMI Audio, OpenCL, etc., the AMDGPU driver will eventually attain all that
through what is known as Display Code (DC) or DAL/HAL (Display/Hardware abstraction
layer). The old DAL was just as it sounds, an abastraction layer. This
could basically be summed up as a middle man layer that needed translation
to be native or direct communication with the hardware. This is not allowed in
the Linux Kernel and for good reason. We would want native and direct communication
with hardware which is better for performance and being maintained and clean.</p>

<p>So why did AMD use a HAL? Well, the simplest reason was for sharing code.
AMD&rsquo;s software driver team is small. To save time, money, and effort, using
a HAL was a simple method. They could write code that (mostly) worked for
both Windows and Linux at the same time. So primary focus on Windows translated
to some focus on Linux. Unfortunately, this doesn&rsquo;t mean it worked well.
We all remember how &ldquo;lovely&rdquo; fglrx was at times with broken crossfire support,
broken eyefinity setup, poor kernel support, etc.</p>

<p>OK so small software dev team, HAL isn&rsquo;t fully working in this instance,
what is the solution? They decided to go open source. Great, shouldn&rsquo;t this
be simple? Short answer, No. They have to go over code with a fine tooth comb
to make sure they aren&rsquo;t releasing code they &ldquo;don&rsquo;t own&rdquo; persay. Can&rsquo;t exactly
opensource DirectX related etc. After that, they also have to remove the HAL and recreate
code from scratch to make a native/direct communication line for the Linux kernel.
You could say this is essentially rewriting the driver from scratch. Its also
more than just a display driver. You have Vulkan, OpenCL, HSA, VCE, UVD and the many
other interfaces in which one may use the graphics card.</p>

<p>So when can we expect to see support for all items the display code brings us?
Thats an excellent, but daunting question.
AMD is about to meet the crossroads in which they either:</p>

<ul>
<li>Not support their latest graphics cards and APUs, VEGA and beyond, upon release</li>
<li>Push their team to get the DAL/HAL converted and submitted to the Linux kernel</li>
<li>ALL of the above</li>
</ul>

<p>The pressure is on. They know they need support for their latest graphics chipsets, but
anything VEGA and beyond requires the new display code to even work on Linux. I suspect
we may not see working VEGA on AMDGPU (non-PRO), at least, until the end of the year.
Thats cutting it close if AMD expects to sell raven ridge APUs at the end of this year.
I could be proven wrong, but who knows? Kernel release cycles are consistantly about
<a href="https://kernelnewbies.org/LinuxVersions">70 days apart</a>, so 2 kernel releases could be Dec of this year.
This massive change could be right on time to at least have some basics working.
4.13-dev already is seeing tons of <a href="https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/commit/?h=next-20170623&amp;id=04d4fb5fa63876d8e7cf67f2788aecfafc6a28a7">raven code</a> being dropped.</p>

<h2 id="what-about-now-and-what-about-gamers">What about now and what about gamers?</h2>

<p>You&rsquo;ll be happy to know you&rsquo;re not forgotten. Mesa+AMDGPU has been gearing
itself up for supporting gamers. In fact since the opensource community has
gotten its hands on AMDGPU, its outperforming AMDGPU-PRO in several instances.
Is the opensource driver perfect? No, far from it, but its growing by leaps
and bounds at an accelerated rate. Even Valve has dedicated some resources
to assisting in the growth of AMDGPU.</p>

<p>What about Vulkan support? Its there. AMDGPU has radv which is also growing
quickly. radv is the radeon opensource vulkan project. Have you tried DOTA2
with vulkan lately? It works. <a href="https://www.phoronix.com/scan.php?page=article&amp;item=amdgpu-new-1710&amp;num=1">See the benchmarks and gaming results here.</a></p>

<p>Valve has also offered its services to help forward AMDGPU. <a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=AMDGPU-PRO-VR-Linux">Looking forward to VR.</a>
Virtual Reality is becoming big in gaming and soon Linux thanks to Valve.
Valve has also shown support for <a href="https://www.gamingonlinux.com/articles/steamos-updated-valve-drops-amdgpu-pro-for-mesa.9712/page=2">MESA</a> only setup.</p>

<h2 id="so-how-does-this-affect-sabayon">So how does this affect Sabayon?</h2>

<p>Well, you&rsquo;re going to notice the obvious, HDMI/DP Audio may not work yet,
no freesync, no HDMI 2.0, no VEGA and beyond, Vulkan support may be hit
and miss. If you&rsquo;re using an HD7XXX or R9 2XX card, your drivers may change
after a kernel upgrade resulting in different behavior. People looking
for AMDGPU-PRO should and probably would abandon that thought considering
the performance gaming-wise is better off on the open source driver.
You may also have noticed the bump in MESA lately to 17.1? MESA may get
bumped more frequently due to the constant development for AMDGPU.</p>

<p>We understand you may feel some frustration in this time awaiting fixes,
but please be aware this issue is affecting all Linux distributions.
Its the typical growing pains of Linux when a large change takes place.
We are keeping on top of it and trying to stay up-to-date bringing fixes,
and performance boosts, but maintaining stability.</p>

<p>We hope you&rsquo;re enjoying Sabayon just as much as we do!
-Frosty</p>

<h4 id="have-you-considered-donating-yet-help-us-donate-donate-today">Have you considered donating yet? Help us! <a href="https://next.sabayon.org/donate">Donate</a> today!</h4>

                    </div>
                </div>

                
                <div class="col-md-3">
                    <div class="well well-sm"> 
                        <h4>June 24, 2017<br>
                            <small>970 words</small></h4>
                        <hr>
                        <strong>Categories</strong>
                        <ul class="list-unstyled">
                            
                            <li><a href="https://next.sabayon.org/categories/sabayon">sabayon</a></li>
                            
                        </ul>
                        <hr>
                        <strong>Tags</strong><br>
                        <a class="label label-default" href="https://next.sabayon.org/tags/amdgpu">amdgpu</a> <a class="label label-default" href="https://next.sabayon.org/tags/sabayon">sabayon</a> 
                    </div>
                    <div class="panel panel-default">
    <div class="panel-heading" style="padding: 2px 15px;">
        <h4><i class="fa fa-comments-o"></i>  Our Community</h4>
    </div>
    <div class="panel-body">
        You don't have to be able to code to help the <a href="https://forum.sabayon.org/">Sabayon Community</a>. There are many ways to contribute, be it your passion, your skills, your time or a monetary donation.<br>
        Sabayon is user powered, created solely on freely given user contributions, so why not help out and give back to the community?
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading" style="padding: 2px 15px;">
        <h4><i class="fa fa-bullhorn"></i>  Join us on Facebook, Google+</h4>
    </div>
    <div class="panel-body">
        Meet our crazy community on <a href="http://www.facebook.com/group.php?gid=36125411841" target="_blank">Facebook</a>. Alternatively, have fun with the guys and gals on <a href="https://plus.google.com/u/1/communities/111215969224831918857" target="_blank">Google+</a>, or simply +1 us our <a href="https://plus.google.com/+sabayon" target="_blank">Google+</a> page.<br>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading" style="padding: 2px 15px;">
        <h4><i class="fa fa-download"></i>  Get Sabayon </h4>
    </div>
    <div class="panel-body">
        <a href="https://next.sabayon.org/download">
        There are many different Sabayon variants</a>. <br>Each one is designed for a specific purpose and designed to bring out the best in your hardware<br>
        We provide Live versions of most of our variants, so you can try out Sabayon without touching your Computer's Hard drive.
    </div>
</div>

                </div>
            </div>
            <section class="info" id="INFO">
    <div class="container">
        <div class="row">
            <div class="text-center">
                <div class="col-lg-3  col-sm-2">
                    <br />
                    <div class="footer_override">
                        <ul class="list-unstyled">
                            <li>
                                <i class="fa fa-github-square"></i>
                                Development
                            </li>
                            <li>
                                <a href="https://github.com/Sabayon/">
                                    About us
                                </a>
                            </li>
                            <li><a href="https://next.sabayon.org/blog">Blog</a></li>
                            <li>
                                <a href="https://gitter.im/Sabayon">Gitter</a>
                            </li>
                            <li class="first leaf">
                                <a href="https://github.com/Sabayon/" title="Sabayon Github">
                                    Github
                                </a>
                            </li>
                            <li class="last leaf">
                                <a href="https://github.com/Sabayon/sabayon-distro" title="Gitweb for overlay.git">
                                    Portage Overlay
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-2">
                    <br />
                    <div class="footer_override">
                        <ul class="list-unstyled">
                            <li>
                                <i class="fa fa-share-alt-square"></i>
                                Social
                            </li>
                            <li>
                                <a href="https://forum.sabayon.org/">Forum</a>
                            </li>
                            <li><a href="https://next.sabayon.org/chat/">Chat</a></li>
                            <li>
                                <a href="http://www.facebook.com/group.php?gid=36125411841">
                                    Facebook
                                </a>
                            </li>
                            <li>
                                <a href="https://plus.google.com/u/1/communities/111215969224831918857">
                                    Google+
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-2">
                    <br />
                    <div class="footer_override">
                        <ul class="list-unstyled">
                            <li>
                                <i class="fa fa-wrench"></i>
                                Services
                            </li>
                            <li class="leaf">
                                <a href="https://next.sabayon.org/donate">Donate</a>&nbsp; - &nbsp;
                                <a href="mailto:webmaster@sabayonlinux.org">
                                    Contact Us
                                </a>
                            </li>
                            <li class="leaf">
                                <a href="https://pastebin.sabayon.org/">
                                    Pastebin
                                </a>&nbsp; - &nbsp;
                                <a href="https://lists.sabayon.org/">
                                    Lists
                                </a>
                            </li>
                            <li class="leaf">
                                &nbsp;
                                <a href="https://next.sabayon.org/releases/">Releases Archive</a>
                            </li>
                            <li class="leaf">
                                <a href="https://wiki.sabayon.org/">
                                    Wiki
                                </a>&nbsp; - &nbsp;
                                <a href="https://next.sabayon.org/mirrors">Mirrors</a>
                            </li>
                            <li class="leaf">
                                <a href="https://bugs.sabayon.org/">
                                    Bugs
                                </a>&nbsp; - &nbsp;
                                <a href="https://next.sabayon.org/press">Press Documentation</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-2">
                    <br />
                    <div class="footer_override">
                        <ul class="list-unstyled">
                            <li>
                                <i class="fa fa-file-text"></i>
                                Documentation
                            </li>
                            <li class="leaf">
                                <a href="http://wiki.sabayon.org/index.php?title=Converting" title="Helps converts from other Linux distributions">
                                    Converting to Sabayon
                                </a>
                            </li>
                            <li class="leaf">
                                <a href="http://wiki.sabayon.org/index.php?title=FAQ" title="Frequently Asked Questions">
                                    F.A.Q.
                                </a>&nbsp; - &nbsp;
                                <a href="http://wiki.sabayon.org/index.php?title=En:Introduction" title="A nice introduction to using Sabayon Linux">
                                    Introduction
                                </a>
                            </li>
                            <li class="leaf">
                                <a href="http://wiki.sabayon.org/index.php?title=Entropy#Fresh_Install_-_What_to_do.3F" title="First update and not sure what do do? Look here.">
                                    Fresh Install Guide
                                </a>
                            </li>
                            <li class="leaf">
                                <a href="http://wiki.sabayon.org/index.php?title=HOWTOs" title="These, surprisingly, show you how to do stuff.">
                                    How To Guides
                                </a>
                            </li>
                            <li class="leaf">
                                <a href="https://wiki.sabayon.org/index.php?title=Entropy#About_Entropy" title="About Entropy">
                                    About Entropy
                                </a>
                            </li>
                            <li class="leaf">
                                <a href="http://eapi.sabayon.org/" title="Entropy API">
                                    Entropy API Docs
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="copyright" id="COPYRIGHT" width="100%">
    <div class="container">
        <div class="row">
            <div class="text-center">
                <hr width="90%" />
                &copy; 2004-2017 Sabayon Promotion (CF: 93018620224).<br />
                Unless otherwise stated, content on this page is licensed under a Creative Commons Attribution-ShareAlike 3.0 License.<br />
                Linux is a registered trademark of Linus Torvalds.<br />
                All other trademarks are the property of their respective owners.<br />
                <br />
                <br />
            </div>
        </div>
    </div>
</section>

        </div>
        
    <script src="https://next.sabayon.org/js/jquery.js"></script>
    <script src="https://next.sabayon.org/js/bootstrap.js"></script>
    <script src="https://next.sabayon.org/js/common.js"></script>
    <script src="https://next.sabayon.org/js/script.js"></script>
    <script type="text/javascript" src="https://next.sabayon.org/js/headroom.min.js"></script>

    </body>
</html>
